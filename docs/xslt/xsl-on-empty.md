---
description: Используется для того, чтобы условное построение контента можно было сделать потоковым
---

# xsl:on-empty

Используется для того, чтобы сделать потоковой конструкцию условного содержимого. Выводит вложенное содержимое только в том случае, если содержащая последовательность не генерирует "обычного" содержимого.

Если эта инструкция появляется в конструкторе последовательности, она должна идти после всех остальных инструкций.

Хотя эта инструкция предназначена в первую очередь для облегчения написания потоковых приложений, она может быть полезна и независимо от потоковой обработки, чтобы избежать неоднократной оценки сложных условий.

_Доступна в XSLT 3.0. Начиная с версии Saxon 9.8, доступна во всех изданиях. Реализована в Saxon-PE и Saxon-EE начиная с Saxon 9.7._

-   **Категория**: инструкция
-   **Содержимое**: _sequence-constructor_
-   **Допустимые родительские элементы**: любой элемент XSLT, модель содержимого которого - _sequence-constructor_; любой литеральный элемент результата

## Атрибуты

`select?`
: _expression_

## Заметки по реализации Saxon

Новый в XSLT 3.0 и реализованный начиная с Saxon 9.7.

## Примеры

Следующий код генерирует замещающий текст при отсутствии содержимого, однако он не является гарантированно-потоковым, поскольку обрабатывает дочерние элементы `item-for-sale` более одного раза:

```xslt
<xsl:apply-templates select="item-for-sale"/>
<xsl:if test="empty(item-for-sale)">
    <p>There are no items for sale.</p>
</xsl:if>
```

Чтобы сделать его потоковым, его можно переписать с помощью инструкции `xsl:on-empty`:

```xslt
<xsl:sequence>
    <xsl:apply-templates select="item-for-sale"/>
    <xsl:on-empty>
        <p>There are no items for sale.</p>
    </xsl:on-empty>
</xsl:sequence>
```

## Ссылки

-   [XSLT 3.0 Specification](http://www.w3.org/TR/xslt-30/#element-on-empty)
-   [Saxon](https://www.saxonica.com/html/documentation/xsl-elements/on-empty.html)

## См. также

-   [`xsl:on-non-empty`](xsl-on-non-empty.md)
-   [`xsl:where-populated`](xsl-where-populated.md)
